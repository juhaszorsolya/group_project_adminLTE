var termekek = [
    {
        id: 00,
        name: "Asus ROG Strix GL702",
        category: "Notebook",
        price: 459990,
        count: 0,
        sold: 3,
        ceratedAt: "2017-02-19",
        updatedAt: "2018-04-02"
    },
    {
        id: 01,
        name: "Apple MacBook Air 13",
        category: "Notebook",
        price: 289990,
        count: 2,
        sold: 7,
        ceratedAt: "2017-08-01",
        updatedAt: "2018-06-15"
    },
    {
        id: 02,
        name: "Lenovo Ideapad 120s",
        category: "Notebook",
        price: 77990,
        count: 5,
        sold: 6,
        ceratedAt: "2017-09-28",
        updatedAt: "2018-05-09"
    },
    {
        id: 03,
        name: "Asus ViviBook Max",
        category: "Notebook",
        price: 209990,
        count: 2,
        sold: 3,
        ceratedAt: "2017-04-21",
        updatedAt: "2018-06-17"
    },
    {
        id: 04,
        name: "HP 15-bs022nh",
        category: "Notebook",
        price: 110990,
        count: 4,
        sold: 4,
        ceratedAt: "2017-03-19",
        updatedAt: "2018-02-01"
    },
    {
        id: 05,
        name: "Barracuda Cire i3",
        category: "Desktop",
        price: 111990,
        count: 2,
        sold: 7,
        ceratedAt: "2017-08-14",
        updatedAt: "2018-05-15"
    },
    {
        id: 06,
        name: "Lenovo V5205-08IKL",
        category: "Desktop",
        price: 190990,
        count: 7,
        sold: 4,
        ceratedAt: "2017-06-25",
        updatedAt: "2018-03-18"
    },
    {
        id: 07,
        name: "ASUS Vivo Mini PC UN65U",
        category: "Desktop",
        price: 175990,
        count: 6,
        sold: 1,
        ceratedAt: "2017-11-05",
        updatedAt: "2018-03-01"
    },
    {
        id: 08,
        name: "Asus ViviBook Max",
        category: "Desktop",
        price: 209990,
        count: 2,
        sold: 3,
        ceratedAt: "2017-04-21",
        updatedAt: "2018-06-17"
    },
    {
        id: 09,
        name: "Apple iMac Retina 4K QC i5",
        category: "Desktop",
        price: 499990,
        count: 0,
        sold: 0,
        ceratedAt: "2017-02-14",
        updatedAt: "2017-12-10"
    },
    {
        id: 10,
        name: "ASUS VX248H",
        category: "Display",
        price: 49990,
        count: 7,
        sold: 6,
        ceratedAt: "2017-11-29",
        updatedAt: "2018-03-17"
    },
    {
        id: 11,
        name: "LG PW1000G",
        category: "Display",
        price: 139990,
        count: 0,
        sold: 4,
        ceratedAt: "2017-11-27",
        updatedAt: "2018-07-02"
    },
    {
        id: 12,
        name: "Samsung U28E570D",
        category: "DIsplay",
        price: 89990,
        count: 4,
        sold: 8,
        ceratedAt: "2017-09-30",
        updatedAt: "2018-04-02"
    },
    {
        id: 13,
        name: "BenQ TW533",
        category: "Display",
        price: 119990,
        count: 9,
        sold: 2,
        ceratedAt: "2017-03-11",
        updatedAt: "2018-04-15"
    },
    {
        id: 14,
        name: "Acer K192HQLb",
        category: "Display",
        price: 19990,
        count: 0,
        sold: 12,
        ceratedAt: "2017-05-25",
        updatedAt: "2018-05-28"
    },
    {
        id: 15,
        name: "Kingston A400 SSD 128MB",
        category: "Storage",
        price: 9790,
        count: 11,
        sold: 15,
        ceratedAt: "2017-05-19",
        updatedAt: "2018-6-01"
    },
    {
        id: 16,
        name: "Maxtor M3 Portable 1TB",
        category: "Storage",
        price: 17690,
        count: 10,
        sold: 11,
        ceratedAt: "2017-07-06",
        updatedAt: "2018-04-30"
    },
    {
        id: 17,
        name: "WD Blue 3,5 1TB",
        category: "Storage",
        price: 12990,
        count: 8,
        sold: 14,
        ceratedAt: "2017-01-05",
        updatedAt: "2018-05-02"
    },
    {
        id: 18,
        name: "Toshiba Canvio Basics 1TB",
        category: "Storage",
        price: 20990,
        count: 14,
        sold: 16,
        ceratedAt: "2017-08-21",
        updatedAt: "2018-04-17"
    },
    {
        id: 19,
        name: "Maxtor M3 Portable 2TB",
        category: "Storage",
        price: 26990,
        count: 9,
        sold: 7,
        ceratedAt: "2017-07-07",
        updatedAt: "2018-11-06"
    },
    {
        id: 20,
        name: "Kingston A400 SSD 128MB",
        category: "Storage",
        price: 9790,
        count: 11,
        sold: 15,
        ceratedAt: "2017-05-19",
        updatedAt: "2018-6-01"
    },
    {
        id: 21,
        name: "Cooler Master hűtőzsír",
        category: "Access",
        price: 810,
        count: 25,
        sold: 30,
        ceratedAt: "2017-03-16",
        updatedAt: "2018-06-13"
    },
    {
        id: 22,
        name: "Trust 16799 csuklótámasz",
        category: "Access",
        price: 1890,
        count: 20,
        sold: 28,
        ceratedAt: "2017-06-15",
        updatedAt: "2018-05-28"
    },
    {
        id: 23,
        name: "Genius KB-110 billentyűzet",
        category: "Access",
        price: 1790,
        count: 18,
        sold: 6,
        ceratedAt: "2017-07-20",
        updatedAt: "2018-02-23"
    },
    {
        id: 24,
        name: "HyperX Fury Red 4GB RAM",
        category: "Access",
        price: 11490,
        count: 11,
        sold: 9,
        ceratedAt: "2017-09-05",
        updatedAt: "2018-04-17"
    }

];

//Elso feladat: legnepszerubb termek kiiratasa konzolra -> amelyikbol a legtöbbet eladtak//

var legnepszerubb = termekek[0];
var warning = false;

for (var i in termekek) {

    if (legnepszerubb.sold === termekek[i].sold) {
        warning = true;   //Ha a jelenlegi legnepszerubb termekbol ugyan annyit adtak el,//
        //mint a jelenleg vizsgalt termeknel, warningot ad //

    } else if (legnepszerubb.sold < termekek[i].sold) {
        legnepszerubb = termekek[i];
        warning = false; //Amennyiben megvaltozik a legnepszerubb termek, visszaallitja a warningot//
    }
}

console.log(`A legnépszerűbb termék: ${legnepszerubb.name}`);
if (warning === true) {
    console.log("Figyelem! Legalább két különböző termékből adtak el ugyan annyit!");
}

//Masodik feladat: legujabb termek kiiratasa konzolra -> Amelyiknek a legmagasabb a createdAt értéke//

var legujabb = termekek[0];
warning = false;

for (var i in termekek) {
    if (legujabb.ceratedAt === termekek[i].ceratedAt) {
        warning = true;
    } else if (legujabb.ceratedAt < termekek[i].ceratedAt) {
        legujabb = termekek[i];
        warning = false;
    }
}

console.log(`A legújabb termék: ${legujabb.name}`);
if (warning === true) {
    console.log("Figyelem! Legalább két különböző terméket adtak hozzá legutoljára ugyan olyan dátummal!");
}
//Harmadik feladat: A termékek összárának kiíratása -> Termekek mennyiseguk es araik szorzatainak összege//

var osszar = 0;

for (var i in termekek) {

    osszar += (termekek[i].price * termekek[i].count);
}

console.log(`A jelenleg készleten lévő termékek összára: ${osszar}Ft`);

//Negyedik feladat: A termékek összárának kiíratása -> Termekek mennyiseguk es araik szorzatainak összege//

var osszar = 0;
var qua = 0; //QuantityCounter//
var atlagar = 0;

for (var i in termekek) {

    osszar += (termekek[i].price * termekek[i].count);
    qua += termekek[i].count;

}

atlagar = osszar / qua;

console.log(`A jelenleg készleten lévő összes termékeknek az átlagára: ${Math.round(atlagar)}Ft`);

//Pluszfeladat: sorbarendezés.
//5let: Kettesével vizsgálom a tömb elemeit sorba, amennyiben rossz sorrendben vannak megcserélem őket.
//Amennyiben egynél több csere  történik, beállítok egy flaget, hogy a tömbön ismét végig kell majd menni.
//Képzeletben baról jobbra haladok a tömb (jelen esetben objektunk) elemein.
var i = 0
var numLeft = termekek[i];
var numRight = termekek[(i + 1)];
var temp = [];
var flag = false;
var cyc = 0;
console.log(Object.keys(termekek).length);
console.log(numLeft);
console.log(numLeft.price);
console.log(numRight);
console.log(numRight.price);
do {
    cyc++;
    for (i; i < (termekek.length - 1); i++) {
        console.log(i);
        if (numLeft.price > numRight.price) {
            console.log(flag);
            temp = numLeft;
            console.log(temp);
            termekek[i] = numRight;
            console.log(termekek[i]);
            termekek[(i + 1)] = temp;
            console.log(termekek[i + 1]);


            i = 0;
        }
        numLeft = termekek[(i + 1)];
        numRight = termekek[(i + 2)];
        flag = true;
    }
    if (cyc > 2000) { break; }
} while (flag === true)

console.log(cyc);
console.log(termekek);

console.log(typeof termekek);

//A program lefut, az első element valamiért nem csereli, nem jöttem ra, hogy miert//